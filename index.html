<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Statement Converter - StatementProMax</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/dashboard-styles.css">
    <link rel="stylesheet" href="assets/css/ui-enhancements.css">
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>
<body>
    <!-- Promotional Banner - Permanent -->
    <div class="promo-banner">
        <div class="promo-content">
            <span class="promo-icon">üìä</span>
            <span class="promo-text">New <strong>Financial Dashboard</strong> - Track spending & detect recurring payments!</span>
            <a href="dashboard.html" class="promo-cta">Try Now ‚Üí</a>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="nav">
        <div class="container">
            <div class="nav-content">
                <a href="index.html" class="logo-link">
                    <div class="logo">
                        <div class="logo-icon-wrapper">
                            <svg class="logo-icon-svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                                <rect x="4" y="8" width="4" height="16" rx="2" fill="#FF6B6B"/>
                                <rect x="10" y="12" width="4" height="12" rx="2" fill="#FF8A80"/>
                                <rect x="16" y="6" width="4" height="18" rx="2" fill="#FF6B6B"/>
                                <rect x="22" y="10" width="4" height="14" rx="2" fill="#FF8A80"/>
                                <path d="M2 24 L30 24" stroke="#FF6B6B" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <span class="logo-text">Statement<span class="logo-accent">ProMax</span></span>
                    </div>
                </a>
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="nav-links" id="navLinks">
                    <a href="index.html" class="active">Converter</a>
                    <a href="dashboard.html">Financial Dashboard</a>
                </div>
                <div class="nav-auth">
                    <button class="btn-auth" id="signInBtn">
                        <span id="authButtonText">Sign In</span>
                    </button>
                    <div class="user-menu auth-hidden" id="userMenu">
                        <button class="user-menu-btn" id="userMenuBtn">
                            <span id="userEmail"></span>
                            <span class="dropdown-arrow">‚ñº</span>
                        </button>
                        <div class="user-dropdown" id="userDropdown">
                            <button class="user-dropdown-btn" id="signOutBtn">Sign Out</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- File History Modal -->
    <div class="learned-patterns-modal" id="fileHistoryModal" style="display: none;">
        <div class="learned-patterns-content">
            <div class="learned-patterns-header">
                <div>
                    <h2>üìÅ Upload History</h2>
                    <p>View and reload previously uploaded Excel files. Your files are stored locally in your browser.</p>
                </div>
                <button class="modal-close-btn" id="closeFileHistoryModal">&times;</button>
            </div>
            
            <div class="learned-patterns-stats">
                <div class="learned-stat-card">
                    <div class="learned-stat-icon">üìÑ</div>
                    <div class="learned-stat-content">
                        <div class="learned-stat-label">Total Files</div>
                        <div class="learned-stat-value" id="totalFilesCount">0</div>
                    </div>
                </div>
                <div class="learned-stat-card">
                    <div class="learned-stat-icon">üìä</div>
                    <div class="learned-stat-content">
                        <div class="learned-stat-label">Total Transactions</div>
                        <div class="learned-stat-value" id="totalTransactionsCount">0</div>
                    </div>
                </div>
                <div class="learned-stat-card">
                    <div class="learned-stat-icon">üíæ</div>
                    <div class="learned-stat-content">
                        <div class="learned-stat-label">Storage Used</div>
                        <div class="learned-stat-value" id="storageUsed">0 MB</div>
                    </div>
                </div>
            </div>
            
            <div class="learned-patterns-actions">
                <input type="text" id="fileHistorySearch" placeholder="üîç Search files..." class="learned-search-input">
                <button class="btn-outline btn-danger" id="clearAllHistoryBtn">Clear All History</button>
            </div>
            
            <div class="learned-patterns-body" id="fileHistoryList">
                <!-- File history items will be populated here -->
                <div style="text-align: center; padding: 40px; color: #6a6a6a;">
                    <div style="font-size: 48px; margin-bottom: 16px;">üìÅ</div>
                    <div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">No files uploaded yet</div>
                    <div style="font-size: 14px;">Upload your first Excel file to see it here</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sign In Modal -->
    <div class="auth-modal" id="signInModal">
        <div class="auth-modal-content">
            <button class="auth-modal-close" id="closeAuthModal">&times;</button>
            <div class="auth-modal-header">
                <h2>Welcome to StatementProMax</h2>
                <p>Sign in to access your financial dashboard and unlock all features</p>
            </div>
            
            <!-- Step 1: Email Entry -->
            <div class="auth-modal-body" id="emailStep">
                <div class="auth-input-group">
                    <label for="emailInput">Email Address</label>
                    <input type="email" id="emailInput" placeholder="you@example.com" class="auth-input">
                    <p class="auth-helper-text">We'll send you a magic code to sign in</p>
                </div>
                <div id="emailError" class="auth-error" style="display: none;"></div>
                <button class="btn-primary btn-full" id="sendCodeBtn">Continue with Email</button>
                
                <div class="auth-divider">
                    <span>or</span>
                </div>
                
                <button class="btn-outline btn-full btn-google" id="googleSignIn">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z" fill="#4285F4"/>
                        <path d="M9.003 18c2.43 0 4.467-.806 5.956-2.184l-2.909-2.258c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9.003 18z" fill="#34A853"/>
                        <path d="M3.964 10.71c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.958H.957C.347 6.173 0 7.548 0 9c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill="#FBBC05"/>
                        <path d="M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29c.708-2.127 2.692-3.71 5.039-3.71z" fill="#EA4335"/>
                    </svg>
                    Sign in with Google
                </button>
            </div>
            
            <!-- Step 2: Code Verification -->
            <div class="auth-modal-body" id="codeStep" style="display: none;">
                <div class="auth-back-btn-container">
                    <button class="auth-back-btn" id="backToEmailBtn">
                        <span>‚Üê</span> Back
                    </button>
                </div>
                <div class="auth-code-sent">
                    <p>We sent a 6-digit code to</p>
                    <p class="auth-sent-email" id="sentEmail"></p>
                </div>
                <div class="auth-input-group">
                    <label for="codeInput">Verification Code</label>
                    <input type="text" id="codeInput" placeholder="000000" maxlength="6" class="auth-input auth-code-input">
                </div>
                <div id="codeError" class="auth-error" style="display: none;"></div>
                <button class="btn-primary btn-full" id="verifyCodeBtn">Verify & Sign In</button>
                <p class="auth-resend-text">
                    Didn't receive it? <button class="auth-link-btn" id="resendCodeBtn">Resend code</button>
                </p>
            </div>
        </div>
    </div>

    <!-- Year Selection Modal -->
    <div class="year-modal" id="yearModal">
        <div class="year-modal-content">
            <div class="year-modal-header">
                <h2>Select Transaction Year</h2>
                <p>What year are these transactions from? This helps organize your financial data correctly in the dashboard.</p>
            </div>
            <div class="year-modal-body">
                <div class="year-selector">
                    <label for="yearSelect">Select Year:</label>
                    <select id="yearSelect" class="year-select-dropdown">
                        <!-- Years will be populated by JavaScript -->
                    </select>
                </div>
                <div class="year-quick-buttons" id="yearQuickButtons">
                    <!-- Quick year buttons will be populated by JavaScript -->
                </div>
            </div>
            <div class="year-modal-footer">
                <button class="btn-outline" id="cancelYearBtn">Cancel</button>
                <button class="btn-primary" id="confirmYearBtn">Analyze in Dashboard</button>
            </div>
        </div>
    </div>

    <!-- Main Converter Section -->
    <section class="converter-main">
        <div class="container">
            <!-- Header -->
            <div class="converter-header animate-slide-in-up">
                <div class="trust-badge-row">
                    <span class="mini-badge" data-tooltip="Your files are processed locally in your browser">‚úì 100% Secure</span>
                    <span class="mini-badge" data-tooltip="Average conversion time: 3 seconds">‚úì Instant Processing</span>
                    <span class="mini-badge" data-tooltip="Start converting immediately">‚úì No Registration</span>
                </div>
                <h1>Bank Statement Converter</h1>
                <p class="converter-subtitle">Convert your bank statement files to Excel format instantly. Fast, secure, and accurate.</p>
                <div class="cta-urgency">
                    <span class="urgency-icon">‚ö°</span>
                    <span>Join 10,000+ users converting files securely every month</span>
                </div>
            </div>

            <!-- Upload Section -->
            <div class="upload-section" id="uploadSection">
                <div class="upload-card">
                    <!-- Progress Steps Indicator -->
                    <div class="progress-steps">
                        <div class="progress-step active">
                            <div class="progress-step-circle">1</div>
                            <div class="progress-step-label">Upload Files</div>
                        </div>
                        <div class="progress-step">
                            <div class="progress-step-circle">2</div>
                            <div class="progress-step-label">Convert</div>
                        </div>
                        <div class="progress-step">
                            <div class="progress-step-circle">3</div>
                            <div class="progress-step-label">Download & Analyze</div>
                        </div>
                    </div>
                    
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="fileInput" accept=".pdf,application/pdf" multiple hidden aria-label="Select PDF files to convert">
                        <div class="upload-content">
                            <div class="upload-icon-large">üìÅ</div>
                            <h3>Drop PDF files here</h3>
                            <p class="upload-text">or</p>
                            <button class="btn-primary btn-with-icon">
                                <span class="btn-icon">üìÇ</span>
                                <span>Browse Files</span>
                                <span class="kbd" style="margin-left: 8px;">Ctrl+O</span>
                            </button>
                            <p class="upload-note">Supports multiple PDF files ‚Ä¢ Max 50MB per file</p>
                        </div>
                    </div>
                    <div class="security-note security-note-enhanced">
                        <div class="security-badge">
                            <span class="security-icon-large">üîí</span>
                            <div>
                                <strong>100% Secure & Private</strong>
                                <p>Your files are processed securely via our API. We never store your financial data.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- File List Container -->
            <div class="file-list-container" id="fileListContainer" style="display: none;">
                <div class="callout callout-info" style="margin-bottom: 20px;">
                    <div class="callout-title">üí° Quick Tip</div>
                    <div>After conversion, you can download the Excel file or analyze it directly in our Financial Dashboard for insights!</div>
                </div>
                <div class="file-list-header">
                    <h3>Files (<span id="fileCount">0</span>)</h3>
                    <div class="conversion-controls" id="conversionControls" style="display: none;">
                        <button class="btn-secondary" id="clearAllBtn" data-tooltip="Remove all files from the list">Clear All</button>
                        <button class="btn-primary btn-with-icon" id="convertAllBtn">
                            <span class="btn-icon">‚ö°</span>
                            <span>Convert All</span>
                        </button>
                    </div>
                </div>
                <div class="file-items" id="fileItems">
                    <!-- File items will be inserted here dynamically -->
                </div>
                <div class="add-more-section">
                    <button class="btn-outline" onclick="document.getElementById('fileInput').click()">
                        Add More Files
                    </button>
                </div>
            </div>

            <!-- Features Grid -->
            <div class="converter-features stagger-fade-in">
                <div class="feature-small feature-highlight card-highlight">
                    <div class="feature-icon-small feature-icon-accent">‚ö°</div>
                    <h4>Instant Results</h4>
                    <p><strong>3 seconds</strong> average conversion</p>
                </div>
                <div class="feature-small feature-highlight card-highlight">
                    <div class="feature-icon-small feature-icon-accent">üéØ</div>
                    <h4>99.9% Accurate</h4>
                    <p>Preserves all data perfectly</p>
                </div>
                <div class="feature-small feature-highlight card-highlight">
                    <div class="feature-icon-small feature-icon-accent">üîí</div>
                    <h4>Bank-Level Security</h4>
                    <p>Never touches our servers</p>
                </div>
                <div class="feature-small feature-highlight card-highlight">
                    <div class="feature-icon-small feature-icon-accent">üìä</div>
                    <h4>Smart Analytics</h4>
                    <p>Instant financial insights</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="how-it-works">
        <div class="container">
            <h2 class="section-title">Get Started in <span style="color: #FF6B6B;">3 Simple Steps</span></h2>
            <div class="steps">
                <div class="step step-card">
                    <div class="step-number">1</div>
                    <h3>Upload Files</h3>
                    <p>Drag & drop or browse<br><strong>Multiple files supported</strong></p>
                </div>
                <div class="step step-card">
                    <div class="step-number">2</div>
                    <h3>Auto-Convert</h3>
                    <p>Instant processing<br><strong>Zero configuration needed</strong></p>
                </div>
                <div class="step step-card">
                    <div class="step-number">3</div>
                    <h3>Download & Analyze</h3>
                    <p>Get Excel file instantly<br><strong>Or view in dashboard</strong></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section - Buzzoid-style Trust Indicators -->
    <section class="stats-section">
        <div class="container">
            <div class="trust-header">
                <h3>Trusted by Thousands Worldwide</h3>
                <p>Join users who trust StatementProMax for secure financial data conversion</p>
            </div>
            <div class="stats-grid">
                <div class="stat-item stat-highlight">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-number">10,000+</div>
                    <div class="stat-label">Monthly Users</div>
                </div>
                <div class="stat-item stat-highlight">
                    <div class="stat-icon">‚úì</div>
                    <div class="stat-number">99.9%</div>
                    <div class="stat-label">Accuracy Rate</div>
                </div>
                <div class="stat-item stat-highlight">
                    <div class="stat-icon">‚ö°</div>
                    <div class="stat-number">3 Sec</div>
                    <div class="stat-label">Average Processing</div>
                </div>
            </div>
            <div class="trust-badges">
                <span class="trust-badge-item">üîí SSL Encrypted</span>
                <span class="trust-badge-item">‚úì GDPR Compliant</span>
                <span class="trust-badge-item">üõ°Ô∏è Privacy First</span>
                <span class="trust-badge-item">‚ö° Instant Processing</span>
            </div>
        </div>
    </section>

    <!-- Footer - Compact & Organized -->
    <footer class="footer">
        <div class="container">
            <!-- Links at Top -->
            <div class="footer-links-row">
                <div class="footer-links-group">
                    <h4>Product</h4>
                    <a href="index.html">Converter</a>
                    <a href="dashboard.html">Financial Dashboard</a>
                    <a href="pages/blog.html">Blog</a>
                </div>
                <div class="footer-links-group">
                    <h4>Company</h4>
                    <a href="pages/about.html">About</a>
                    <a href="pages/contact.html">Contact</a>
                    <a href="pages/security.html">Security</a>
                </div>
                <div class="footer-links-group">
                    <h4>Legal</h4>
                    <a href="pages/privacy.html">Privacy</a>
                    <a href="pages/terms.html">Terms</a>
                </div>
            </div>
            
            <!-- Logo and Brand Below -->
            <div class="footer-brand">
                <div class="footer-logo">
                    <svg class="footer-logo-icon" width="28" height="28" viewBox="0 0 32 32" fill="none">
                        <rect x="4" y="8" width="4" height="16" rx="2" fill="#FF6B6B"/>
                        <rect x="10" y="12" width="4" height="12" rx="2" fill="#FF8A80"/>
                        <rect x="16" y="6" width="4" height="18" rx="2" fill="#FF6B6B"/>
                        <rect x="22" y="10" width="4" height="14" rx="2" fill="#FF8A80"/>
                        <path d="M2 24 L30 24" stroke="#FF6B6B" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span class="footer-logo-text">Statement<span style="color: #FF6B6B;">ProMax</span></span>
                </div>
                <p>Secure bank statement conversion and financial analysis.</p>
            </div>
            
            <!-- Copyright at Bottom -->
            <div class="footer-bottom">
                <p>&copy; 2025 StatementProMax ‚Ä¢ All rights reserved</p>
            </div>
        </div>
    </footer>

    <!-- Global Error Handler -->
    <script>
        window.addEventListener('error', function(e) {
            console.error('Global error:', e.error);
        });
        window.addEventListener('unhandledrejection', function(e) {
            console.error('Unhandled promise rejection:', e.reason);
        });
    </script>
    <script type="module" src="assets/js/ui-interactions.js"></script>
    <script type="module" src="assets/js/quick-start-guide.js"></script>
    <script type="module" src="assets/js/converter.js"></script>
    <script type="module" src="assets/js/script.js"></script>
</body>
</html>
